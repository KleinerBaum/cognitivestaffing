# Changelog

## Unreleased
- feat: replace sidebar salary factor table with interactive explanations and top-N selector
- feat: consolidate requirements insights into dual salary/availability cards with regional radius filtering
- feat: reorganize company step with grouped inputs for location, team context, and branding assets uploader
- feat: surface ESCO occupation multi-select after extraction and limit skill suggestions to chosen profiles
- feat: categorize ESCO skill suggestions by type and highlight outstanding essentials in wizard panels
- feat: surface ESCO occupation and essential skill pickers in wizard with sidebar todo hints
- feat: allow focus tags for skill/benefit suggestions and present grouped multi-select pickers for LLM outputs
- feat: detail salary fallback factors with structured deltas and localized table view
- feat: add localized overview/edit toggle to summary tabs with inline editing helpers
- feat: show summary highlights with role, company, location, salary, and skills above wizard tabs
- chore: raise OpenAI SDK floor to 1.40.0 for built-in JSON schema text.format support
- fix: adapt Responses payloads to use the ``text.format`` JSON schema config instead of ``response_format``
- feat: surface extraction confidence tiers with rule vs. AI indicators and UI legend
- chore: refresh offline ESCO cache to the v1.1.1 snapshot (2025-10-09) and document refresh cadence
- fix: enforce strict JSON schema payloads across extraction utilities
- feat: suggest HQ and contact defaults with optional autofill + rejection memory
- feat: parse benefits sections into normalized, locked compensation perks via heuristics fallback
- feat: show extraction source tooltips and AI inference indicators in wizard fields and summary tables
- feat: capture company culture, contacts, and responsibility lists in wizard company/requirements steps
- chore: add regeneration utility for need analysis schema to keep Phase fields in sync
- feat: replace sidebar hero copy with collapsible extraction overview and remove tips section
- feat: externalize salary benchmark catalog with canonical role normalization and German aliases
- feat: generate interview guide via LLM JSON schema with evaluation notes and structured fallback
- feat: refresh analysis helper datasets with IT & project-management benchmarks
- feat: refactor job ad generation to use tone-aware LLM prompts with Markdown fallback
- feat: auto-regenerate job ad and interview outputs when summary follow-up answers are applied
- feat: redesign requirements step with vertical panels and inline AI suggestions
- feat: add requirements skill market insights with salary/availability bubble chart
- fix: prevent wizard navigation deadlock when job title is missing
- feat: route CLI file extraction through ingest.extractors for OCR and text support
- fix: surface consistent OCR requirement errors when scanned PDFs lack dependencies
- fix: show user-friendly labels for missing critical fields
- fix: stack columns and buttons on small screens for mobile usability
- fix: send valid OpenAI tool definitions to avoid missing name errors
- feat: inject required arrays and nullable fields into extraction schema
- fix: map "Einsatzort"/"Branche" cues to location and industry in rule-based parsing
- fix: restore the classic "Weiter" CTA in the onboarding step with highlighted styling
- feat: add an in-house validation loop that replays extraction against NeedAnalysisProfile with graceful fallbacks
- docs: clarify Responses API migration and removal of Assistants/Threads usage
- docs: add bilingual legal information page including ESCO licensing notice
- docs: document confidence indicators and locking metadata in README and pipeline guide
- docs: expand local OCR setup instructions for CLI ingestion workflows
- fix: show localized warning in requirements step when skill suggestions fail
- fix: infer salary estimate country from primary city/HQ hints when explicit country is missing
- feat: pass primary city and required skill context to the salary estimate model payload
- feat: require explicit unlock before editing high-confidence company and job fields in the wizard
- fix: decouple job-ad brand tone widget state from company summary brand keywords syncing
- fix: prevent brand tone input normalization from mutating Streamlit widget state mid-run
- feat: polish light theme widgets with improved tabs, alerts, metrics, and dataframe styling
- feat: enrich salary fallback explanations with structured summary and adjustment rows
- fix: swap sidebar and onboarding visuals to keep Cognitive Staffing branding consistent
